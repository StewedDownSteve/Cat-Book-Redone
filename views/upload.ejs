<!DOCTYPE html>
<html>
  <head>
    <title>Upload a Cat</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/styles/main.css" />
  </head>
  <body>
    <%- include('partials/navbar') %>

    <div class="container mt-5">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="card shadow-lg">
            <div class="card-body">
              <h2 class="text-center mb-4">Upload a Cat</h2>
              <form action="/upload" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                  <label for="name">Cat's Name</label>
                  <input type="text" class="form-control" id="name" name="name" required>
                </div>
                <div class="form-group">
                  <label for="age">Age</label>
                  <input type="number" class="form-control" id="age" name="age" required>
                </div>
                <div class="form-group">
                  <label for="favoriteFood">Favorite Food</label>
                  <input type="text" class="form-control" id="favoriteFood" name="favoriteFood" required>
                </div>
                <div class="form-group">
                  <label for="funFact">Fun Fact</label>
                  <input type="text" class="form-control" id="funFact" name="funFact" required>
                </div>
                <!-- File Input for Image Upload -->
                <div class="form-group">
                  <label for="image">Image</label>
                  <input type="file" class="form-control-file" id="image" name="image" required>
                </div>
                <!-- <div class="text-center">
                  <button type="submit" class="btn btn-outline-primary">Submit</button>
                </div> -->

                <!-- Preview for the uploaded image -->
                <div class="form-group text-center">
                  <img id="image-preview" src="#" alt="Image Preview" style="display:none; max-width: 200px; margin-top: 20px;" />
                </div>

                <button type="submit" class="btn btn-primary">Submit</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer added oct 2024, made by me -->
    <%- include('partials/footer') %>


    <!-- JavaScript to handle image preview -->
    <script>
      const imageInput = document.getElementById('image');
      const preview = document.getElementById('image-preview');

      imageInput.addEventListener('change', function() {
        const file = imageInput.files[0];
        if (file) {
          preview.src = URL.createObjectURL(file); // Set the image src to the uploaded file
          preview.style.display = 'block'; // Display the image element
        }
      });
    </script>
    
  </body>
</html>



<!-- Changes:
Image Preview Element (<img>):
This img element is placed inside the form for the user to see the image preview.
Initially, itâ€™s hidden (style="display:none") and only becomes visible when a user selects a file.
JavaScript for Image Preview:
The addEventListener listens for changes on the file input field (when a user selects a file).
The selected image file is then shown in the img element using URL.createObjectURL. -->


<!-- Changes:
Card Container: Wrapped the form inside a card shadow-lg for a more structured and modern look.
Spacing: Added mt-5 to create some space between the navbar and the form, ensuring it doesn't feel cramped.
Button Styling: Changed the button to btn-outline-primary to match the button styles used in the other forms (edit.ejs) for consistency across the site. -->